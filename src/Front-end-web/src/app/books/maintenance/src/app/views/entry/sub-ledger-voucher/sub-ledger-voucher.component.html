<div class="card">
  <div class="card-header text-center">
    <h3>Voucher List For Sub Ledger</h3>
  </div>
      <div class="card-header" style="border: none;">
        <div class="container mb-2 mt-4">
            <div class="row" >
                <div class="col-md-4">
                    <label >Sub Ledger Name</label>
                    <ng-select cSelect placeholder="Select Account Name"  (change)="getLedgerId($event)" class="mt-2" >
                        <ng-option *ngFor="let Cat of ledgerNameList" [value]="Cat.uniqId">
                          {{ Cat.nameCode}}
                        </ng-option>
                    </ng-select>
                </div>
                <div class="col-md-3">
                    <label >From Select Date</label>
                    <input class="form-control mt-2"  type="date" [(ngModel)]="startdate"/>
                </div>
                <div class="col-md-3">
                    <label >To Select Date</label>
                    <input class="form-control mt-2" type="date"   [(ngModel)]="enddate"/>
                </div>
                <div class="col-md-2 text-end">
                  <button class="mt-4" cButton (click)="getAllLedger()" style="width:50%;"> Filter</button>
              </div>
                
            </div>
        </div>
    </div>
    <div class="card-body">
      <table bordered cTable hover class="mt-2 text-center">
        <thead >

          <tr>
              <th scope="col" rowspan="2" > <p style="margin-top: -20px;font-weight: 700">#</p></th>
              <th scope="col" rowspan="2"  ><p style="margin-top: -20px;font-weight: 700;">Date</p></th>
              <th scope="col" rowspan="2"  style="width:20%;font-weight: 700"><p>Narration</p></th>
              <th scope="col" rowspan="2"  style="width:20%;font-weight: 700"><p>Voucher No</p></th>
              <th scope="col" colspan="2" style="font-weight: 700">Transaction</th>
              <th scope="col" colspan="2" style="font-weight: 700">Balance</th>
          </tr>
          <tr>
            <th scope="col" style="font-weight: 700"> Debit</th>
            <th scope="col" style="font-weight: 700">Credit</th>
            <th scope="col" style="font-weight: 700"> Debit</th>
            <th scope="col" style="font-weight: 700">Credit</th>
        </tr>
        </thead>
        
        <tbody style="font-weight: 700">
          <td scope="col"></td>
          <td scope="col"></td>
          <td scope="col" class="text-end"> <span style="margin-right:-10%;">Opening</span></td>
          <td scope="col" class="text-start"><span style="margin-left:5%;">Balance</span></td>
          <td scope="col"></td>
          <td scope="col"></td>
          <td scope="col" style="padding-left: 10px;">{{formatNumberWithCustomPattern(BalanceDr)}}</td>
          <td scope="col" style="padding-left: 10px;">{{formatNumberWithCustomPattern(BalanceCr)}}</td>
        </tbody>
             
        <tbody>
          <tr *ngFor="let lg of ledgerList; let i = index">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ lg.createdDate | date }}</td>
            <td>{{ lg.narration }}</td>
            <td>{{ lg.voucher}}</td>
            <td>{{formatNumberWithCustomPattern(lg.debit)}}</td>
            <td>{{formatNumberWithCustomPattern(lg.credit)}}</td>
            <td>{{formatNumberWithCustomPattern(lg.balanceDebit)}}</td>
            <td>{{formatNumberWithCustomPattern(lg.balanceCredit)}}</td>
          </tr>
          <tr  >
            <th class="borderNon" scope="row"></th>
            <td class="borderNon"></td>
            <td class="borderNon"></td>
            <td class="borderNon text-center"><b>Total</b></td>
            <td class="borderNon"><b>{{ totalDebit | number: '1.2-2'  }}</b></td>
            <td class="borderNon"><b>{{ totalCredit | number: '1.2-2'  }}</b></td>
            <td class="borderNon"><b>{{( ledgerList?.length > 0 ? ledgerList[ledgerList.length - 1]?.balanceDebit : 0 ) | number: '1.2-2' }}</b></td>
            <td class="borderNon"><b>{{( ledgerList?.length > 0 ? ledgerList[ledgerList.length - 1]?.balanceCredit : 0 ) | number: '1.2-2' }}</b></td>
          </tr>
        </tbody>
      </table>
    </div>
    
</div>


